{
  "hash": "738d92642d5bdf53f63483c82d364dc6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"2023: Day 9\"\ndate: 2023-12-9\nauthor: \n  - name: Ella Kaye\ncategories: [base R, loops, ⭐⭐]\ndraft: false\n---\n\n\n## Setup\n\n[The original challenge](https://adventofcode.com/2023/day/9)\n\n[My data](input){target=\"_blank\"}\n\n## Part 1\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(aochelpers)\ninput <- aoc_input_vector(9, 2023)\nhead(input)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"1 2 5 13 33 89 245 643 1565 3535 7495 15128 29479 56181 105913 199391 377649 723582 1407901 2788593 5627669\"           \n[2] \"18 37 79 153 277 493 883 1592 2876 5211 9525 17649 33125 62564 117833 219509 402350 724133 1280307 2228813 3832565\"    \n[3] \"0 -9 -18 -18 16 148 529 1485 3668 8317 17736 36227 71969 140778 273424 529425 1022448 1966692 3762308 7156179 13552786\"\n[4] \"-6 -13 -17 3 93 334 845 1783 3355 5876 9945 16889 29783 55659 110077 226237 472643 986772 2038810 4152178 8331240\"     \n[5] \"12 16 19 16 -4 -57 -159 -311 -455 -360 650 4330 14992 42932 112235 278107 664353 1542439 3494604 7743519 16805383\"     \n[6] \"5 12 26 67 161 344 682 1315 2533 4892 9378 17627 32209 56984 97538 161707 260197 407308 621770 927699 1355681\"         \n```\n\n\n:::\n:::\n\n\n::: {.callout-note collapse=\"false\" icon=\"false\"}\n## The crux of the puzzle\nPredict the next value in each sequence, then find their sum.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# function to take line of input and return a numeric sequence\nsplit_numeric <- function(seq) {\n\tstrsplit(seq, \" \") |> unlist() |> as.numeric() \n}\n\n# function to predict next value\npredict_oasis <- function(x) {\n\t# prediction will be the sum of the final element \n  # of each sequence of differences\n  prediction <- tail(x, 1)\n\n\twhile(!all(x == 0)) {\n\t\tx <- diff(x)\n\t\tprediction <- prediction + tail(x, 1)\n\t}\n\tprediction\n}\n\ninput |> \n\tlapply(split_numeric) |> \n\tsapply(predict_oasis) |> \n\tsum()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1904165718\n```\n\n\n:::\n:::\n\n\nI was worried when I saw the input about parsing the negative values, \nbut `as.numeric()` handled that just fine.\n\nToday was the first today that my first submitted answer was incorrect.\nMy 'gotcha' turned out to be something else. \nI was originally using the condition `while(sum(x) != 0)` for the loop.\nThat works fine on the example, \nbut it turns out in my full input there's a sequence where the sum is zero \nbefore all the individual elements are. \nSwitching the condition to `while(!all(x == 0))` fixed the problem.\n\n## Part 2\n\n::: {.callout-note collapse=\"false\" icon=\"false\"}\n## The crux of the puzzle\nExtrapolate backwards, \nfiguring out what the first value before the sequence begins is.\n:::\n\nThis is simply a case of applying `predict_oasis` to the reversed sequence.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninput |> \n\tlapply(split_numeric) |> \n\tlapply(rev) |> \n\tsapply(predict_oasis) |> \n\tsum()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 964\n```\n\n\n:::\n:::\n\n\n\n##### Session info {.appendix}\n\n<details><summary>Toggle</summary>\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.2 (2023-10-31)\n os       macOS Sonoma 14.1\n system   aarch64, darwin20\n ui       X11\n language (EN)\n collate  en_US.UTF-8\n ctype    en_US.UTF-8\n tz       Europe/London\n date     2023-12-09\n pandoc   3.1.1 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/ (via rmarkdown)\n quarto   1.4.523 @ /usr/local/bin/quarto\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package     * version    date (UTC) lib source\n aochelpers  * 0.1.0.9000 2023-12-06 [1] local\n sessioninfo * 1.2.2      2021-12-06 [1] CRAN (R 4.3.0)\n\n [1] /Users/ellakaye/Library/R/arm64/4.3/library\n [2] /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library\n\n──────────────────────────────────────────────────────────────────────────────\n```\n\n\n:::\n:::\n\n\n</details>\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}